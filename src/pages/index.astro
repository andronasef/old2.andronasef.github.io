---
import CTA from "@components/common/CTA";
import Hero from "@components/pages/home/Hero";
import HowItWorks from "@components/pages/home/HowItWorks";
import ProjectsList from "@components/common/ProjectsList.astro";
import WhyMe from "@components/pages/home/WhyMe";
import Layout from "@layouts/Layout.astro";
import Container from "@components/common/Container";
import { getLatestFourProjects } from "@utils/project";

const lang = getLocale(Astro.url);
const latestFourProjects = await getLatestFourProjects(lang);

import i18n from "../i18n";
import { getLocale } from "astro-i18n-aut";
import Portfolio from "@components/pages/home/Portfolio";
---

<Layout
  title={i18n.t("pages.homepage.title")}
  description={i18n.t("pages.homepage.description")}
>
  <Hero />
  <Container>
    <WhyMe />
    <HowItWorks />
    <Portfolio>
      <ProjectsList projects={latestFourProjects} />
    </Portfolio>
  </Container>
  <CTA />
</Layout>
